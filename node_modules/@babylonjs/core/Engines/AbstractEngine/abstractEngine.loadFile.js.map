{"version":3,"file":"abstractEngine.loadFile.js","sourceRoot":"","sources":["../../../../../dev/core/src/Engines/AbstractEngine/abstractEngine.loadFile.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,8BAA8B,CAAC;AAe9D,cAAc,CAAC,SAAS,CAAC,cAAc,GAAG,KAAK,WAAW,GAAW,EAAE,eAAkC,EAAE,cAAwB;IAC/H,OAAO,MAAM,IAAI,OAAO,CAAuB,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAC/D,IAAI,CAAC,SAAS,CACV,GAAG,EACH,CAAC,IAAI,EAAE,EAAE;YACL,OAAO,CAAC,IAAI,CAAC,CAAC;QAClB,CAAC,EACD,SAAS,EACT,eAAe,EACf,cAAc,EACd,CAAC,OAAO,EAAE,SAAS,EAAE,EAAE;YACnB,2EAA2E;YAC3E,MAAM,CAAC,SAAS,CAAC,CAAC;QACtB,CAAC,CACJ,CAAC;IACN,CAAC,CAAC,CAAC;AACP,CAAC,CAAC","sourcesContent":["import { AbstractEngine } from \"../../Engines/abstractEngine\";\r\nimport type { IOfflineProvider } from \"../../Offline/IOfflineProvider\";\r\n\r\ndeclare module \"../abstractEngine\" {\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    export interface AbstractEngine {\r\n        /**\r\n         * @internal\r\n         */\r\n        _loadFileAsync(url: string, offlineProvider?: IOfflineProvider, useArrayBuffer?: false): Promise<string>;\r\n        _loadFileAsync(url: string, offlineProvider?: IOfflineProvider, useArrayBuffer?: true): Promise<ArrayBuffer>;\r\n        _loadFileAsync(url: string, offlineProvider?: IOfflineProvider, useArrayBuffer?: boolean): Promise<string | ArrayBuffer>;\r\n    }\r\n}\r\n\r\nAbstractEngine.prototype._loadFileAsync = async function (url: string, offlineProvider?: IOfflineProvider, useArrayBuffer?: boolean): Promise<any> {\r\n    return await new Promise<string | ArrayBuffer>((resolve, reject) => {\r\n        this._loadFile(\r\n            url,\r\n            (data) => {\r\n                resolve(data);\r\n            },\r\n            undefined,\r\n            offlineProvider,\r\n            useArrayBuffer,\r\n            (request, exception) => {\r\n                // eslint-disable-next-line @typescript-eslint/prefer-promise-reject-errors\r\n                reject(exception);\r\n            }\r\n        );\r\n    });\r\n};\r\n"]}