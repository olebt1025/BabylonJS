{"version":3,"file":"nativeEngine.js","sourceRoot":"","sources":["../../../../dev/core/src/Engines/nativeEngine.ts"],"names":[],"mappings":"AAAA,yDAAyD;AAGzD,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAElC,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAEtD,OAAO,0CAA0C,CAAC;AAClD,OAAO,gDAAgD,CAAC;AACxD,OAAO,8CAA8C,CAAC;AAOtD,gBAAgB;AAChB,MAAM,OAAO,YAAa,SAAQ,MAAM;IACpC;;;;OAIG;IACO,uBAAuB,CAAC,mBAA4B,IAAS,CAAC;IAExE;;OAEG;IACH,YAAmB,UAA+B,EAAE;QAChD,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,CAAC,kBAAkB,CAAC,CAAC;QAE1D,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,kBAAkB,IAAI,KAAK,CAAC,CAAC;IACtE,CAAC;IAED;;OAEG;IACa,gBAAgB;QAC5B,MAAM,IAAI,KAAK,CAAC,mEAAmE,CAAC,CAAC;IACzF,CAAC;IAED;;OAEG;IACa,qBAAqB,CAAC,OAAwB,EAAE,KAAuB,EAAE,aAAqB,CAAC,EAAE,OAAe,CAAC;QAC7H,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;IACxE,CAAC;CACJ;AAQD;;;GAGG;AACH,SAAS,WAAW,CAAC,WAAgB,EAAE,YAAmB;IACtD,YAAY,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;QAC9B,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YAC5D,IAAI,IAAI,KAAK,aAAa,EAAE,CAAC;gBACzB,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC3D,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC;AAED,yDAAyD;AACzD,WAAW,CAAC,YAAY,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC","sourcesContent":["/* eslint-disable @typescript-eslint/naming-convention */\r\n\r\nimport type { InternalTexture } from \"../Materials/Textures/internalTexture\";\r\nimport { Engine } from \"./engine\";\r\nimport type { ThinNativeEngineOptions } from \"./thinNativeEngine\";\r\nimport { ThinNativeEngine } from \"./thinNativeEngine\";\r\n\r\nimport \"./AbstractEngine/abstractEngine.loadFile\";\r\nimport \"./AbstractEngine/abstractEngine.textureLoaders\";\r\nimport \"./Native/Extensions/nativeEngine.cubeTexture\";\r\n\r\n/**\r\n * Options to create the Native engine\r\n */\r\nexport interface NativeEngineOptions extends ThinNativeEngineOptions {}\r\n\r\n/** @internal */\r\nexport class NativeEngine extends Engine {\r\n    /**\r\n     * @internal\r\n     * Will be overriden by the Thin Native engine implementation\r\n     * No code should be placed here\r\n     */\r\n    protected _initializeNativeEngine(_adaptToDeviceRatio: boolean): void {}\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public constructor(options: NativeEngineOptions = {}) {\r\n        super(null, false, undefined, options.adaptToDeviceRatio);\r\n\r\n        this._initializeNativeEngine(options.adaptToDeviceRatio ?? false);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override wrapWebGLTexture(): InternalTexture {\r\n        throw new Error(\"wrapWebGLTexture is not supported, use wrapNativeTexture instead.\");\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _uploadImageToTexture(texture: InternalTexture, image: HTMLImageElement, _faceIndex: number = 0, _lod: number = 0) {\r\n        throw new Error(\"_uploadArrayBufferViewToTexture not implemented.\");\r\n    }\r\n}\r\n\r\n/**\r\n * @internal\r\n * Augments the NativeEngine type to include ThinNativeEngine methods and preventing dupplicate TS errors\r\n */\r\nexport interface NativeEngine extends Omit<ThinNativeEngine, keyof Engine> {}\r\n\r\n/**\r\n * @internal\r\n * Applies the functionality of one or more base constructors to a derived constructor.\r\n */\r\nfunction applyMixins(derivedCtor: any, constructors: any[]) {\r\n    constructors.forEach((baseCtor) => {\r\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach((name) => {\r\n            if (name !== \"constructor\") {\r\n                derivedCtor.prototype[name] = baseCtor.prototype[name];\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// Apply the ThinNativeEngine mixins to the NativeEngine.\r\napplyMixins(NativeEngine, [ThinNativeEngine]);\r\n"]}