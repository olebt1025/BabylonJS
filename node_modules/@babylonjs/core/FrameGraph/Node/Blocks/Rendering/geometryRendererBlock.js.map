{"version":3,"file":"geometryRendererBlock.js","sourceRoot":"","sources":["../../../../../../../dev/core/src/FrameGraph/Node/Blocks/Rendering/geometryRendererBlock.ts"],"names":[],"mappings":"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","sourcesContent":["import type { NodeRenderGraphConnectionPoint, Scene, NodeRenderGraphBuildState, FrameGraph } from \"core/index\";\r\nimport { NodeRenderGraphBaseObjectRendererBlock } from \"./baseObjectRendererBlock\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport { NodeRenderGraphBlockConnectionPointTypes } from \"../../Types/nodeRenderGraphTypes\";\r\nimport { editableInPropertyPage, PropertyTypeForEdition } from \"../../../../Decorators/nodeDecorator\";\r\nimport { FrameGraphGeometryRendererTask } from \"../../../Tasks/Rendering/geometryRendererTask\";\r\nimport { Constants } from \"core/Engines/constants\";\r\n\r\n/**\r\n * Block that render geometry of objects to a multi render target\r\n */\r\nexport class NodeRenderGraphGeometryRendererBlock extends NodeRenderGraphBaseObjectRendererBlock {\r\n    protected override _frameGraphTask: FrameGraphGeometryRendererTask;\r\n\r\n    /**\r\n     * Gets the frame graph task associated with this block\r\n     */\r\n    public override get task() {\r\n        return this._frameGraphTask;\r\n    }\r\n\r\n    /**\r\n     * Create a new NodeRenderGraphGeometryRendererBlock\r\n     * @param name defines the block name\r\n     * @param frameGraph defines the hosting frame graph\r\n     * @param scene defines the hosting scene\r\n     * @param doNotChangeAspectRatio True (default) to not change the aspect ratio of the scene in the RTT\r\n     * @param enableClusteredLights True (default) to enable clustered lights\r\n     */\r\n    public constructor(name: string, frameGraph: FrameGraph, scene: Scene, doNotChangeAspectRatio = true, enableClusteredLights = true) {\r\n        super(name, frameGraph, scene);\r\n\r\n        this.getInputByName(\"target\")!.isOptional = true;\r\n\r\n        this.registerOutput(\"geomViewDepth\", NodeRenderGraphBlockConnectionPointTypes.TextureViewDepth);\r\n        this.registerOutput(\"geomNormViewDepth\", NodeRenderGraphBlockConnectionPointTypes.TextureNormalizedViewDepth);\r\n        this.registerOutput(\"geomScreenDepth\", NodeRenderGraphBlockConnectionPointTypes.TextureScreenDepth);\r\n        this.registerOutput(\"geomViewNormal\", NodeRenderGraphBlockConnectionPointTypes.TextureViewNormal);\r\n        this.registerOutput(\"geomWorldNormal\", NodeRenderGraphBlockConnectionPointTypes.TextureWorldNormal);\r\n        this.registerOutput(\"geomLocalPosition\", NodeRenderGraphBlockConnectionPointTypes.TextureLocalPosition);\r\n        this.registerOutput(\"geomWorldPosition\", NodeRenderGraphBlockConnectionPointTypes.TextureWorldPosition);\r\n        this.registerOutput(\"geomAlbedo\", NodeRenderGraphBlockConnectionPointTypes.TextureAlbedo);\r\n        this.registerOutput(\"geomReflectivity\", NodeRenderGraphBlockConnectionPointTypes.TextureReflectivity);\r\n        this.registerOutput(\"geomVelocity\", NodeRenderGraphBlockConnectionPointTypes.TextureVelocity);\r\n        this.registerOutput(\"geomLinearVelocity\", NodeRenderGraphBlockConnectionPointTypes.TextureLinearVelocity);\r\n\r\n        this._frameGraphTask = new FrameGraphGeometryRendererTask(this.name, frameGraph, scene, { doNotChangeAspectRatio, enableClusteredLights });\r\n    }\r\n\r\n    protected override _createFrameGraphObject(): void {\r\n        this._frameGraphTask?.dispose();\r\n        this._frameGraphTask = new FrameGraphGeometryRendererTask(this.name, this._frameGraph, this._scene, {\r\n            doNotChangeAspectRatio: this._additionalConstructionParameters![0] as boolean,\r\n            enableClusteredLights: this._additionalConstructionParameters![1] as boolean,\r\n        });\r\n    }\r\n\r\n    protected override _saveState(state: { [key: string]: any }) {\r\n        super._saveState(state);\r\n        state.disabled = this._frameGraphTask.disabled;\r\n        state.isMainObjectRenderer = this.isMainObjectRenderer;\r\n        state.depthTest = this.depthTest;\r\n        state.depthWrite = this.depthWrite;\r\n        state.disableShadows = this.disableShadows;\r\n        state.renderInLinearSpace = this.renderInLinearSpace;\r\n        state.renderParticles = this.renderParticles;\r\n        state.renderSprites = this.renderSprites;\r\n        state.forceLayerMaskCheck = this.forceLayerMaskCheck;\r\n        state.enableBoundingBoxRendering = this.enableBoundingBoxRendering;\r\n        state.enableOutlineRendering = this.enableOutlineRendering;\r\n\r\n        state.width = this.width;\r\n        state.height = this.height;\r\n        state.sizeInPercentage = this.sizeInPercentage;\r\n        state.samples = this.samples;\r\n        state.reverseCulling = this.reverseCulling;\r\n        state.dontRenderWhenMaterialDepthWriteIsDisabled = this.dontRenderWhenMaterialDepthWriteIsDisabled;\r\n        state.disableDepthPrePass = this.disableDepthPrePass;\r\n    }\r\n\r\n    protected override _restoreState(state: { [key: string]: any }) {\r\n        super._restoreState(state);\r\n        this._frameGraphTask.disabled = state.disabled;\r\n        this.isMainObjectRenderer = state.isMainObjectRenderer;\r\n        this.depthTest = state.depthTest;\r\n        this.depthWrite = state.depthWrite;\r\n        this.disableShadows = state.disableShadows;\r\n        this.renderInLinearSpace = state.renderInLinearSpace;\r\n        this.renderParticles = state.renderParticles;\r\n        this.renderSprites = state.renderSprites;\r\n        this.forceLayerMaskCheck = state.forceLayerMaskCheck;\r\n        this.enableBoundingBoxRendering = state.enableBoundingBoxRendering;\r\n        this.enableOutlineRendering = state.enableOutlineRendering;\r\n\r\n        this.width = state.width;\r\n        this.height = state.height;\r\n        this.sizeInPercentage = state.sizeInPercentage;\r\n        this.samples = state.samples;\r\n        this.reverseCulling = state.reverseCulling;\r\n        this.dontRenderWhenMaterialDepthWriteIsDisabled = state.dontRenderWhenMaterialDepthWriteIsDisabled;\r\n        this.disableDepthPrePass = state.disableDepthPrePass;\r\n    }\r\n\r\n    /** Width of the geometry texture */\r\n    @editableInPropertyPage(\"Texture width\", PropertyTypeForEdition.Int, \"GEOMETRY\")\r\n    public get width() {\r\n        return this._frameGraphTask.size.width;\r\n    }\r\n\r\n    public set width(value: number) {\r\n        this._frameGraphTask.size.width = value;\r\n    }\r\n\r\n    /** Height of the geometry texture */\r\n    @editableInPropertyPage(\"Texture height\", PropertyTypeForEdition.Int, \"GEOMETRY\")\r\n    public get height() {\r\n        return this._frameGraphTask.size.height;\r\n    }\r\n\r\n    public set height(value: number) {\r\n        this._frameGraphTask.size.height = value;\r\n    }\r\n\r\n    /** Indicates if the geometry texture width and height are percentages or absolute values */\r\n    @editableInPropertyPage(\"Size is in percentage\", PropertyTypeForEdition.Boolean, \"GEOMETRY\")\r\n    public get sizeInPercentage() {\r\n        return this._frameGraphTask.sizeIsPercentage;\r\n    }\r\n\r\n    public set sizeInPercentage(value: boolean) {\r\n        this._frameGraphTask.sizeIsPercentage = value;\r\n    }\r\n\r\n    /** Number of samples of the geometry texture */\r\n    @editableInPropertyPage(\"Samples\", PropertyTypeForEdition.Int, \"GEOMETRY\", { min: 1, max: 8 })\r\n    public get samples() {\r\n        return this._frameGraphTask.samples;\r\n    }\r\n\r\n    public set samples(value: number) {\r\n        this._frameGraphTask.samples = value;\r\n    }\r\n\r\n    /** Indicates if culling must be reversed */\r\n    @editableInPropertyPage(\"Reverse culling\", PropertyTypeForEdition.Boolean, \"GEOMETRY\")\r\n    public get reverseCulling() {\r\n        return this._frameGraphTask.reverseCulling;\r\n    }\r\n\r\n    public set reverseCulling(value: boolean) {\r\n        this._frameGraphTask.reverseCulling = value;\r\n    }\r\n\r\n    /** Indicates if a mesh shouldn't be rendered when its material has depth write disabled */\r\n    @editableInPropertyPage(\"Don't render if material depth write is disabled\", PropertyTypeForEdition.Boolean, \"GEOMETRY\")\r\n    public get dontRenderWhenMaterialDepthWriteIsDisabled() {\r\n        return this._frameGraphTask.dontRenderWhenMaterialDepthWriteIsDisabled;\r\n    }\r\n\r\n    public set dontRenderWhenMaterialDepthWriteIsDisabled(value: boolean) {\r\n        this._frameGraphTask.dontRenderWhenMaterialDepthWriteIsDisabled = value;\r\n    }\r\n\r\n    /** Indicates if depth pre-pass must be disabled */\r\n    @editableInPropertyPage(\"Disable depth pre-pass\", PropertyTypeForEdition.Boolean, \"GEOMETRY\")\r\n    public get disableDepthPrePass() {\r\n        return this._frameGraphTask.disableDepthPrePass;\r\n    }\r\n\r\n    public set disableDepthPrePass(value: boolean) {\r\n        this._frameGraphTask.disableDepthPrePass = value;\r\n    }\r\n\r\n    // View depth\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - VIEW DEPTH\")\r\n    public viewDepthFormat = Constants.TEXTUREFORMAT_RED;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - VIEW DEPTH\")\r\n    public viewDepthType = Constants.TEXTURETYPE_FLOAT;\r\n\r\n    // Normalized view depth\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - NORMALIZED VIEW DEPTH\")\r\n    public normalizedViewDepthFormat = Constants.TEXTUREFORMAT_RED;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - NORMALIZED VIEW DEPTH\")\r\n    public normalizedViewDepthType = Constants.TEXTURETYPE_HALF_FLOAT;\r\n\r\n    // Screen depth\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - SCREEN DEPTH\")\r\n    public screenDepthFormat = Constants.TEXTUREFORMAT_RED;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - SCREEN DEPTH\")\r\n    public screenDepthType = Constants.TEXTURETYPE_FLOAT;\r\n\r\n    // View normal\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - VIEW NORMAL\")\r\n    public viewNormalFormat = Constants.TEXTUREFORMAT_RGBA;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - VIEW NORMAL\")\r\n    public viewNormalType = Constants.TEXTURETYPE_HALF_FLOAT;\r\n\r\n    // World normal\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - WORLD NORMAL\")\r\n    public worldNormalFormat = Constants.TEXTUREFORMAT_RGBA;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - WORLD NORMAL\")\r\n    public worldNormalType = Constants.TEXTURETYPE_UNSIGNED_BYTE;\r\n\r\n    // Local position\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - LOCAL POSITION\")\r\n    public localPositionFormat = Constants.TEXTUREFORMAT_RGBA;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - LOCAL POSITION\")\r\n    public localPositionType = Constants.TEXTURETYPE_HALF_FLOAT;\r\n\r\n    // World Position\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - WORLD POSITION\")\r\n    public worldPositionFormat = Constants.TEXTUREFORMAT_RGBA;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - WORLD POSITION\")\r\n    public worldPositionType = Constants.TEXTURETYPE_HALF_FLOAT;\r\n\r\n    // Albedo\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - ALBEDO\")\r\n    public albedoFormat = Constants.TEXTUREFORMAT_RGBA;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - ALBEDO\")\r\n    public albedoType = Constants.TEXTURETYPE_UNSIGNED_BYTE;\r\n\r\n    // Reflectivity\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - REFLECTIVITY\")\r\n    public reflectivityFormat = Constants.TEXTUREFORMAT_RGBA;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - REFLECTIVITY\")\r\n    public reflectivityType = Constants.TEXTURETYPE_UNSIGNED_BYTE;\r\n\r\n    // Velocity\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - VELOCITY\")\r\n    public velocityFormat = Constants.TEXTUREFORMAT_RGBA;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - VELOCITY\")\r\n    public velocityType = Constants.TEXTURETYPE_UNSIGNED_BYTE;\r\n\r\n    // Linear velocity\r\n    @editableInPropertyPage(\"Format\", PropertyTypeForEdition.TextureFormat, \"OUTPUT - LINEAR VELOCITY\")\r\n    public linearVelocityFormat = Constants.TEXTUREFORMAT_RGBA;\r\n\r\n    @editableInPropertyPage(\"Type\", PropertyTypeForEdition.TextureType, \"OUTPUT - LINEAR VELOCITY\")\r\n    public linearVelocityType = Constants.TEXTURETYPE_HALF_FLOAT;\r\n\r\n    /**\r\n     * Gets the current class name\r\n     * @returns the class name\r\n     */\r\n    public override getClassName() {\r\n        return \"NodeRenderGraphGeometryRendererBlock\";\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry view depth component\r\n     */\r\n    public get geomViewDepth(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[3];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry normalized view depth component\r\n     */\r\n    public get geomNormViewDepth(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[4];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry screen depth component\r\n     */\r\n    public get geomScreenDepth(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[5];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry view normal component\r\n     */\r\n    public get geomViewNormal(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[6];\r\n    }\r\n\r\n    /**\r\n     * Gets the world geometry normal component\r\n     */\r\n    public get geomWorldNormal(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[7];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry local position component\r\n     */\r\n    public get geomLocalPosition(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[8];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry world position component\r\n     */\r\n    public get geomWorldPosition(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[9];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry albedo component\r\n     */\r\n    public get geomAlbedo(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[10];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry reflectivity component\r\n     */\r\n    public get geomReflectivity(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[11];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry velocity component\r\n     */\r\n    public get geomVelocity(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[12];\r\n    }\r\n\r\n    /**\r\n     * Gets the geometry linear velocity component\r\n     */\r\n    public get geomLinearVelocity(): NodeRenderGraphConnectionPoint {\r\n        return this._outputs[13];\r\n    }\r\n\r\n    protected override _buildBlock(state: NodeRenderGraphBuildState) {\r\n        super._buildBlock(state);\r\n\r\n        const textureActivation = [\r\n            this.geomViewDepth.isConnected,\r\n            this.geomNormViewDepth.isConnected,\r\n            this.geomScreenDepth.isConnected,\r\n            this.geomViewNormal.isConnected,\r\n            this.geomWorldNormal.isConnected,\r\n            this.geomLocalPosition.isConnected,\r\n            this.geomWorldPosition.isConnected,\r\n            this.geomAlbedo.isConnected,\r\n            this.geomReflectivity.isConnected,\r\n            this.geomVelocity.isConnected,\r\n            this.geomLinearVelocity.isConnected,\r\n        ];\r\n\r\n        this.geomViewDepth.value = this._frameGraphTask.geometryViewDepthTexture;\r\n        this.geomNormViewDepth.value = this._frameGraphTask.geometryNormViewDepthTexture;\r\n        this.geomScreenDepth.value = this._frameGraphTask.geometryScreenDepthTexture;\r\n        this.geomViewNormal.value = this._frameGraphTask.geometryViewNormalTexture;\r\n        this.geomWorldNormal.value = this._frameGraphTask.geometryWorldNormalTexture;\r\n        this.geomLocalPosition.value = this._frameGraphTask.geometryLocalPositionTexture;\r\n        this.geomWorldPosition.value = this._frameGraphTask.geometryWorldPositionTexture;\r\n        this.geomAlbedo.value = this._frameGraphTask.geometryAlbedoTexture;\r\n        this.geomReflectivity.value = this._frameGraphTask.geometryReflectivityTexture;\r\n        this.geomVelocity.value = this._frameGraphTask.geometryVelocityTexture;\r\n        this.geomLinearVelocity.value = this._frameGraphTask.geometryLinearVelocityTexture;\r\n\r\n        this._frameGraphTask.textureDescriptions = [];\r\n\r\n        const textureFormats = [\r\n            this.viewDepthFormat,\r\n            this.normalizedViewDepthFormat,\r\n            this.screenDepthFormat,\r\n            this.viewNormalFormat,\r\n            this.worldNormalFormat,\r\n            this.localPositionFormat,\r\n            this.worldPositionFormat,\r\n            this.albedoFormat,\r\n            this.reflectivityFormat,\r\n            this.velocityFormat,\r\n            this.linearVelocityFormat,\r\n        ];\r\n        const textureTypes = [\r\n            this.viewDepthType,\r\n            this.normalizedViewDepthType,\r\n            this.screenDepthType,\r\n            this.viewNormalType,\r\n            this.worldNormalType,\r\n            this.localPositionType,\r\n            this.worldPositionType,\r\n            this.albedoType,\r\n            this.reflectivityType,\r\n            this.velocityType,\r\n            this.linearVelocityType,\r\n        ];\r\n        const bufferTypes = [\r\n            Constants.PREPASS_DEPTH_TEXTURE_TYPE,\r\n            Constants.PREPASS_NORMALIZED_VIEW_DEPTH_TEXTURE_TYPE,\r\n            Constants.PREPASS_SCREENSPACE_DEPTH_TEXTURE_TYPE,\r\n            Constants.PREPASS_NORMAL_TEXTURE_TYPE,\r\n            Constants.PREPASS_WORLD_NORMAL_TEXTURE_TYPE,\r\n            Constants.PREPASS_LOCAL_POSITION_TEXTURE_TYPE,\r\n            Constants.PREPASS_POSITION_TEXTURE_TYPE,\r\n            Constants.PREPASS_ALBEDO_TEXTURE_TYPE,\r\n            Constants.PREPASS_REFLECTIVITY_TEXTURE_TYPE,\r\n            Constants.PREPASS_VELOCITY_TEXTURE_TYPE,\r\n            Constants.PREPASS_VELOCITY_LINEAR_TEXTURE_TYPE,\r\n        ];\r\n\r\n        for (let i = 0; i < textureActivation.length; i++) {\r\n            if (textureActivation[i]) {\r\n                this._frameGraphTask.textureDescriptions.push({\r\n                    textureFormat: textureFormats[i],\r\n                    textureType: textureTypes[i],\r\n                    type: bufferTypes[i],\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    protected override _dumpPropertiesCode() {\r\n        const codes: string[] = [];\r\n        codes.push(`${this._codeVariableName}.size = { width: ${this.width}, height: ${this.height} };`);\r\n        codes.push(`${this._codeVariableName}.sizeInPercentage = ${this.sizeInPercentage};`);\r\n        codes.push(`${this._codeVariableName}.samples = ${this.samples};`);\r\n        codes.push(`${this._codeVariableName}.reverseCulling = ${this.reverseCulling};`);\r\n        codes.push(`${this._codeVariableName}.dontRenderWhenMaterialDepthWriteIsDisabled = ${this.dontRenderWhenMaterialDepthWriteIsDisabled};`);\r\n        codes.push(`${this._codeVariableName}.disableDepthPrePass = ${this.disableDepthPrePass};`);\r\n        codes.push(`${this._codeVariableName}.viewDepthFormat = ${this.viewDepthFormat};`);\r\n        codes.push(`${this._codeVariableName}.viewDepthType = ${this.viewDepthType};`);\r\n        codes.push(`${this._codeVariableName}.normalizedViewDepthFormat = ${this.normalizedViewDepthFormat};`);\r\n        codes.push(`${this._codeVariableName}.normalizedViewDepthType = ${this.normalizedViewDepthType};`);\r\n        codes.push(`${this._codeVariableName}.screenDepthFormat = ${this.screenDepthFormat};`);\r\n        codes.push(`${this._codeVariableName}.screenDepthType = ${this.screenDepthType};`);\r\n        codes.push(`${this._codeVariableName}.localPositionFormat = ${this.localPositionFormat};`);\r\n        codes.push(`${this._codeVariableName}.localPositionType = ${this.localPositionType};`);\r\n        codes.push(`${this._codeVariableName}.worldPositionFormat = ${this.worldPositionFormat};`);\r\n        codes.push(`${this._codeVariableName}.worldPositionType = ${this.worldPositionType};`);\r\n        codes.push(`${this._codeVariableName}.viewNormalFormat = ${this.viewNormalFormat};`);\r\n        codes.push(`${this._codeVariableName}.viewNormalType = ${this.viewNormalType};`);\r\n        codes.push(`${this._codeVariableName}.worldNormalFormat = ${this.worldNormalFormat};`);\r\n        codes.push(`${this._codeVariableName}.worldNormalType = ${this.worldNormalType};`);\r\n        codes.push(`${this._codeVariableName}.albedoFormat = ${this.albedoFormat};`);\r\n        codes.push(`${this._codeVariableName}.albedoType = ${this.albedoType};`);\r\n        codes.push(`${this._codeVariableName}.reflectivityFormat = ${this.reflectivityFormat};`);\r\n        codes.push(`${this._codeVariableName}.reflectivityType = ${this.reflectivityType};`);\r\n        codes.push(`${this._codeVariableName}.velocityFormat = ${this.velocityFormat};`);\r\n        codes.push(`${this._codeVariableName}.velocityType = ${this.velocityType};`);\r\n        codes.push(`${this._codeVariableName}.linearVelocityFormat = ${this.linearVelocityFormat};`);\r\n        codes.push(`${this._codeVariableName}.linearVelocityType = ${this.linearVelocityType};`);\r\n        return super._dumpPropertiesCode() + codes.join(\"\\n\");\r\n    }\r\n\r\n    public override serialize(): any {\r\n        const serializationObject = super.serialize();\r\n        serializationObject.sizeInPercentage = this.sizeInPercentage;\r\n        serializationObject.width = this.width;\r\n        serializationObject.height = this.height;\r\n        serializationObject.samples = this.samples;\r\n        serializationObject.reverseCulling = this.reverseCulling;\r\n        serializationObject.dontRenderWhenMaterialDepthWriteIsDisabled = this.dontRenderWhenMaterialDepthWriteIsDisabled;\r\n        serializationObject.disableDepthPrePass = this.disableDepthPrePass;\r\n        serializationObject.viewDepthFormat = this.viewDepthFormat;\r\n        serializationObject.viewDepthType = this.viewDepthType;\r\n        serializationObject.normalizedViewDepthFormat = this.normalizedViewDepthFormat;\r\n        serializationObject.normalizedViewDepthType = this.normalizedViewDepthType;\r\n        serializationObject.screenDepthFormat = this.screenDepthFormat;\r\n        serializationObject.screenDepthType = this.screenDepthType;\r\n        serializationObject.localPositionFormat = this.localPositionFormat;\r\n        serializationObject.localPositionType = this.localPositionType;\r\n        serializationObject.worldPositionFormat = this.worldPositionFormat;\r\n        serializationObject.worldPositionType = this.worldPositionType;\r\n        serializationObject.viewNormalFormat = this.viewNormalFormat;\r\n        serializationObject.viewNormalType = this.viewNormalType;\r\n        serializationObject.worldNormalFormat = this.worldNormalFormat;\r\n        serializationObject.worldNormalType = this.worldNormalType;\r\n        serializationObject.albedoFormat = this.albedoFormat;\r\n        serializationObject.albedoType = this.albedoType;\r\n        serializationObject.reflectivityFormat = this.reflectivityFormat;\r\n        serializationObject.reflectivityType = this.reflectivityType;\r\n        serializationObject.velocityFormat = this.velocityFormat;\r\n        serializationObject.velocityType = this.velocityType;\r\n        serializationObject.linearVelocityFormat = this.linearVelocityFormat;\r\n        serializationObject.linearVelocityType = this.linearVelocityType;\r\n        return serializationObject;\r\n    }\r\n\r\n    public override _deserialize(serializationObject: any) {\r\n        super._deserialize(serializationObject);\r\n        this.sizeInPercentage = !!serializationObject.sizeInPercentage;\r\n        this.width = serializationObject.width ?? 100;\r\n        this.height = serializationObject.height ?? 100;\r\n        this.samples = serializationObject.samples;\r\n        this.reverseCulling = serializationObject.reverseCulling;\r\n        this.dontRenderWhenMaterialDepthWriteIsDisabled = serializationObject.dontRenderWhenMaterialDepthWriteIsDisabled;\r\n        this.disableDepthPrePass = serializationObject.disableDepthPrePass ?? true;\r\n        this.viewDepthFormat = serializationObject.viewDepthFormat;\r\n        this.viewDepthType = serializationObject.viewDepthType;\r\n        this.normalizedViewDepthFormat = serializationObject.normalizedViewDepthFormat ?? Constants.TEXTUREFORMAT_RED;\r\n        this.normalizedViewDepthType = serializationObject.normalizedViewDepthType ?? Constants.TEXTURETYPE_UNSIGNED_BYTE;\r\n        this.screenDepthFormat = serializationObject.screenDepthFormat;\r\n        this.screenDepthType = serializationObject.screenDepthType;\r\n        this.localPositionFormat = serializationObject.localPositionFormat;\r\n        this.localPositionType = serializationObject.localPositionType;\r\n        this.worldPositionFormat = serializationObject.worldPositionFormat;\r\n        this.worldPositionType = serializationObject.worldPositionType;\r\n        this.viewNormalFormat = serializationObject.viewNormalFormat;\r\n        this.viewNormalType = serializationObject.viewNormalType;\r\n        this.worldNormalFormat = serializationObject.worldNormalFormat;\r\n        this.worldNormalType = serializationObject.worldNormalType;\r\n        this.albedoFormat = serializationObject.albedoFormat;\r\n        this.albedoType = serializationObject.albedoType;\r\n        this.reflectivityFormat = serializationObject.reflectivityFormat;\r\n        this.reflectivityType = serializationObject.reflectivityType;\r\n        this.velocityFormat = serializationObject.velocityFormat;\r\n        this.velocityType = serializationObject.velocityType;\r\n        this.linearVelocityFormat = serializationObject.linearVelocityFormat;\r\n        this.linearVelocityType = serializationObject.linearVelocityType;\r\n    }\r\n}\r\n\r\nRegisterClass(\"BABYLON.NodeRenderGraphGeometryRendererBlock\", NodeRenderGraphGeometryRendererBlock);\r\n"]}